import { exec as _exec } from "child_process";
import util from "util";

import { utils } from "ethers";

const exec = util.promisify(_exec);

const networks: string[] = ["rinkeby", "kovan", "goerli"];

const testnetRouters = [
  // "0xC289df90811e9808D7efD0DFaC75BB7965995eF3",
  // "0x8564B35EABB847eF6Ddfc8375acF9a71f8bEE8D0",
  // "0x649D45716A86A3794e2B5fb35B9478e796F44518",
  // "0xA1646EbC2Ab05Ddbfa00ec5E6f246FF8bdA72d7B",
  // "0xac821E41b77e5eAE234Eb2e9e2F65730914A141C",
  // "0x36802f05EA23968DbD5010084Da25104a88FB6d0",
  // "0x3E8e19E149AE18F5ec55e966841C29688bAC9f4a",
  // "0xf569c6186E7D57742ae89DC97F02FD0d5BA4CD6D",
  // "0x6f363C44d40691c91756c6b95fafd4a8B8AF7718",
  // "0x4702Dd07D10161A31eF35d50deb2566c1E113A89",
  // "0x73D5926422023f06a6Ae0F16Dc22Dd49602eA7a4",
  // "0xe5784bBFdA0Ee1Ade117d0A91d3198f7D0B903d5",
  // "0x82B3AFcACc283Bf47573fADD559342858Bb937e0",
  // "0xC289df90811e9808D7efD0DFaC75BB7965995eF3",
  // "0x0Cc784Ef22f623D29FE9e0872990c7EfAc4c3456",
  // "0x5b3B22551F3B36E4c3668730d343f6CEAA4572D5",
  // "0xfa818B787B81f675bFf2360e37256b726BAb0649",
  // "0xB7FfA9214ed97aE74925E741BB295e986cf4a9be",
  // "0xA59057F7B69d68e6DfbfbBEb6821Bd1512424A81",
  // "0x7B2df12ee8C618673C25566a60E3412733C6CdBe",
  // "0x2835909645F8E4903D81db6a20484439f458AbAD",
  // "0x1b459cb897c4Df7132c0C63B34A7d3E83c246202",
  // "0xe2C2586a54E039b8ff3a36a55265b5E9263Cba4D",
  // "0x719EDDFf0658677fE2528010e3eeefDEAC49B88C",
  // "0xcA3b5e4924507c426B0b7c42Ca01706f842031D9",
  // "0x1c41F4c4aC7498F8EE13eBaF66adbe24b4bad448",
  // "0x9490be794EFdBdC18F0bE2BE89647e26c31c9AaC",
  // "0x54A243F0cA835Fa1562cEe8302e75D03C281480C",
  // "0x8604bf5F0ec78138624551468CC4B4b617F51A09",
  // "0x394dA46D13F88BeAcaF46c85B8710bD21e4Ee69A",
  // "0x22E3faE84EC3528Bbd37e156Bb6Ac72c01B0a2c7",
  // "0x80e9Ad55163049a3e310a5a0F263ACe06D6B0227",
  // "0xBeb8f8D4406812a15C9153d44B5949b3Df4AD46c",
  // "0x3DB9cA552aa915d1986025c09951F0521bf9F402",
  // "0x4551F9aBBc690bfb3ddA3ab15f39fFa4d46D8e2f",
  // "0x9f61CA6BD4b1eF6D4C1cF13d207abeDb1AF862df",
  // "0x830d78C17AD52ea902B783A76Ed0E8Fd7e34348b",
  // "0x1F237122f4feB006bF318761475D3908b070f8eC",
  // "0xCa16cb29DB3dE80C21a102d0b9e45c00d6053C2c",
  // "0x995208e2Ae8A814AD6870DF8AA0ed8b7516e7d93",
  // "0xBc0209887D66252A1c5F3b58554dFb988Bb868cc",
  // "0x9419ea77fdeAF87278373E2C9c82Aa60a232410f",
  // "0xA605224608d1aF00e9320310d82e95f47935a38A",
  // "0x0B671ed2789827996Cf0956F0f4cD91768e194f2",
  // "0x6e03463cA85C53a145795D0Bf38B0009720340E7",
  // "0x36F97070fD22526D4888D43B1f819AFB45167b0A",
  // "0x84B7F37072971013df84D22E7e9B3Bf5b33b5840",
  // "0xA45Cb941529395b26f04135f1267720c1938EE89",
  // "0x87c33506C5260033AAE9ef8Bc6f4f9B2D5dBB036",
  // "0xec17b1159CE7621dAc35dF1BB8CA76a142c9252A",
  // "0xb36F017592563361463896c263254f0b235a9Cc3",
  // "0xc28949777ea89bc6F63DD6f2fb0643Eb76Aee213",
  // "0x26B5948015F6a7A5F92eFc0Fb2a704984553DC46",
  // "0xC06A5e4DAdA2A64969d7Ed1662A60d8a76069818",
  // "0xaf0F0Ca107574037Ac56b9f560490C7675cBd939",
  // "0xC40EB839c7fA5bd07e08CA663E18633958e88D4B",
  // "0x16eB77862b6Ce7b160c06CA7496472aa7B63878F",
  // "0xE055e9BD14F6C69047ea56e67f49C00cE9c8e224",
  // "0xE44B0B9a834505a3E417610514E02003f013C45A",
  // "0x294cefC5be50f3A7428Fcfb52c3b09Dfe91b2E5a",
  // "0x7A52241E005B0EB03bFD03d71AaD085C5DaBc41d",
  // "0xf9a2660cACe6a22D769e9c2F81A30f4F108d60A0",
  // "0xcE28C7633544f373e827f6944229A25119b451A5",
  // "0x163881aE172a9d86FA8708B6aa36644187E15b50",
  // "0xe41f857158F11F446893D5baA4540baD80EE4843",
  // "0xf43B4C1c75e6173A968e6B9A813c56706C58aa7F",
  // "0xE13275f7179D0c0034413b632C46308A5a01c65c",
  // "0x6AA2d33D3c55E9ef623a067A546E587e39702E1F",
  // "0x77b6Cd0c1e4103f10fa18d87d7410697bAB0c225",
  // "0xf0c56B486F101fC91fA656A02f18291Af620D2Ff",
  // "0x65Cd44e5b49D6F45B8d4D263dAF574c7821891Cd",
  // "0x120d2453d8fe39fb8bf4bbad55834235830330b9",
  // "0x6271c3035dc53457C22f42293FfE680230c900d1",
  // "0x1933C1032dBdf5BCbEe528388D902B1657f7f5b9",
  // "0x29741b12777Ea85D197C6500689E2D55760aa87c",
  // "0xaae340b8287eE358BB95aae12dc184F9963BbAf6",
  // "0x805ac6BF62B8a5d515042c5C1D5E277A360B93b0",
  // "0x9d0ce0726b798778fcD9A75AC1A2B8E8c4764Bd7",
  // "0xef19B98111eF5Cb3bB819A61Dd2D6D157e26193b",
  // "0xa31aedc3f142be941d8ab050a388ed70f5882d66",
  // "0xDdacCd4BB4e3d8b18d828267a2F857E8e6135543",
  // "0xC869D24628040E5F1a10EbA7cC59065C4e0EC0B4",
  // "0x43b5aCbe2cf95109f3085bddf35B6A49f9D6711d",
  // "0x811Bf2BEBE24a0BFC6d182dFA093bCC2C667D792",
  // "0xF7B08b021A8CC2C7408A72304446E53f6d5A4b5B",
  // "0x30429853aB95639396ee7DC360dB4aa2eE02cF4b",
  // "0x57e3d030a6ee264808C6DB469E595D89D2317C46",
  // "0x57e3d030a6ee264808C6DB469E595D89D2317C46",
  // "0x3808A2A6eDAB43Fb28da7A3aC603Cf7140ec166c",
  // "0xb023Bbd0ed41E5813B5876a9B06855c093402601",
  // "0x4Ea3c5a2720EDA6759f50eD2Fc23e1bC795D00D0",
  // "0x87BB89F10dd62cdE0AD4777448e995556860Dc18",
  // "0x719EDDFf0658677fE2528010e3eeefDEAC49B88C",
  // "0x0001b261886b1ea4308FEf10eA9f1FFf1554d704",
  // "0xD421ebB9a75B8E9CA48be3eeb7e6bA53b34492AC",
  // "0xa8A5c7B2A4ab71aC82c3246eAdA388a30bdf32e5",
  // "0xF3E16a28b09bE3836e66f091613c230128141Fc1",
  // "0xe7BE9B57a1F76A17DD4f6a90e5A858B16bf5118f",
  // "0x47ec3bf49E08C35F9b8D1f8DC70Be17a03B4B6F7",
  // "0x2a8cd414ec33108B67F3Eb45EED9e701FbB1e6Bb",
  // "0x4670Bd081B7b0DD79810C1aD1cE5fc8a9dB3eb99",
  // "0x953be93a7A408A9d80d47eA9aC626ef1B40c903a",
  // "0xCcC41C864C90d8753a01f745aa5b5B596d2E0798",
  // "0x1c1Ca14Cf89bB371b044935D7aaA818F18d502Ac",
  // "0x96D4142a4Ba2e802dad024E554FCa82e7b1e3FA5",
  // "0x2fF05fb6893e0E18C8974ED8Ff30a4dC2117562B",
  // "0x249DCC908Cc211137B4a7C03Ce1f955b8c07A5ea",
  // "0xC17fc02cb7FeEd157C783B4dE68BadC133041Dd6",
  // "0x2fF05fb6893e0E18C8974ED8Ff30a4dC2117562B",
  // "0x91be66c621d611a0608e34Ea80eeA62716229879",
  // "0x2fF05fb6893e0E18C8974ED8Ff30a4dC2117562B",
  // "0x96D4142a4Ba2e802dad024E554FCa82e7b1e3FA5",
  // "0x6575CDcDE02b61F8A1F653e1F0c0217F7d2Ed4D9",
  // "0xEDf262CB8f0a28EcFC55ceE629d320DE1d6fA300",
  // "0xF82521001EBF85699c752970575CEe449651B06D",
  // "0x8CBDEb16AD40aEa42EE7e739a4d1d6437EF93465",
  // "0x36DEcDCa1ae6b57174D5De61361586B75537A2CB",
  // "0x07A46F8C66B26b47f446527923780b08B501b08F",
  // "0x8Ce3959022279f221dcD73BAE4D082735363781D",
  // "0xFF3Aa3F7be285442bDa35dEfd6b4b312EEb832b2",
  // "0x3b84F0ABedBa6300794d26FA341644f4462F2206",
  // "0xC38A3d8A50AAc6792928d374DF1ca4C3A20A225d",
  // "0x3d09910a68f946631A88567a640a4AE4973d8C58",
  // "0x01D3fafE7A0907186cc2D25A38459C93DC2495C0",
  // "0x8C3B02683458c40f541468dCc34A6d97BFf48f90",
  // "0x014662472A2A841b69813B6e83f3E6A83F9F6E41",
  // "0x08fF0CBD352A4cFD243A5a3b6b754A41C7668De3",
  // "0xF82521001EBF85699c752970575CEe449651B06D",
  // "0x43b5aCbe2cf95109f3085bddf35B6A49f9D6711d",
  // "0x423c4bFd15b7B08aF22fc35d4482F840c9cfD465",
  // "0x97fD6051B8F7905C5042C101D554cA7A8f2cc80D",
  // "0x954d67B0678814665A5C3Ae37782e6F28527f4CB",
  // "0x08c8eA2Ed189962aA471ED70844FFC4466B0bAA6",
  // "0xaf6d59e0bC7A759709b74377DCF8f0ABAdD85BCe",
  // "0x0ceAF78ec0faF482310E37D082BC7000Ef039740",
  // "0x0B84E264D1A52D2fc27De5E9a5709263Ce3785b7",
  // "0x8322c9B2BeB2526AC20A36f2F8596C5D22f607e5",
  // "0x285BF74e705775Ac29d51B0B2141952aE8532451",
  // "0xC1908f6a7c6fF5657d95F555eb346743bf72f5e1",
  // "0xAC2fBf38D237F4CeE19bC6a0eA06947FC7Daad10",
  // "0x746009268222C3E29d1C7D7236Aa26A7decd8A9c",
  // "0xa4cf06e4987A066FdC44098EDC245B7C98945902",
  // "0x1595Bc8D21DedB63B452948E5F5a110A4a1E5553",
  // "0xaa5205aBC1E0D7180227C598f30003d4E72f123D",
  // "0x5C3649AFaBC32cc3782262071090c6B61c245279",
  // "0x339896833cd441f02bB210f9072Bb8397346daa8",
  // "0x53027628C2274D19D26d7Dd0C51C43B8E98bba48",
  // "0x69926C587074c6Ca7ca803C8Bc343736C7409153",
  // "0xee7Ce2277D00bEc3376E9ddbAf6EeFe3EBEdBa7D",
  // "0x9d0ce0726b798778fcD9A75AC1A2B8E8c4764Bd7",
  // "0xfc4462DD4Ae83A73DF3782E8C2F74536b7C9df5B",
  // "0x6E49D5fd398485ebAA539b896fc5B34cF8C40842",
  // "0x66018e92aad27773354A879C626692C9a6D4ef0e",
  // "0x9EB02C5C497AAE3d189dCe3d3C002CD6d563777B",
  // "0x6C02E131D4B4b12630DE47eAE6AE335876333e3a",
  // "0x03778E609Eb0AA856933366860dC59194760fC37",
  // "0x97fD6051B8F7905C5042C101D554cA7A8f2cc80D",
  // "0xb02dbE264cB2a95fF1385e3Ff65741e0AA5f766f",
  // "0x8Ce3959022279f221dcD73BAE4D082735363781D",
  // "0x3FFc03F05D1869f493c7dbf913E636C6280e0ff9",
  // "0x8895081599f0beA02906FF65C2cC79FF12B6039e",
  // "0x39aD3520feDaA1bC632b2bF9E5fbEc58F2fc14Bc",
  // "0xEAae7A7C7b736dd8f3654359bF60d3814dDEaa97",
  // "0xA821000798e47Ac6FBc2e1D632CA3322eC289d2C",
  // "0x3d09910a68f946631A88567a640a4AE4973d8C58",
  // "0xE7056A12774f75730B0240defCB8f823bB0c9cD2",
  // "0x1b11aCAd5A092e43a0b58E1c5F5422b5A1E51b58",
  // "0x769713aDA25D4aE93a25852A8C7D96919Bd8FE56",
  // "0x933152C2480E2EEA049EDd30C75b2b15D7de0439",
  // "0x70C8efBCE7844841354c25DCc630fa79c7638b00",
  // "0x08AF1CeC51b2F2379D302DC8d78A78229b4E17Eb",
  // "0x82921cCd39479c4219958DE854D1cE25a7559983",
  // "0xF7B08b021A8CC2C7408A72304446E53f6d5A4b5B",
  // "0x5c04a320329b1d114b5C2CA80f5Fd2c0F37f154D",
  // "0xdd95e2CAbD57979C17d05dE0f25eF46D1ca8b04f",
  // "0xdc06e8f87B6F96E02E1340435C2858A2E8aBdb54",
  // "0x16eB77862b6Ce7b160c06CA7496472aa7B63878F",
  // "0x22cfDfE654BA880Bc600Df1c6503D648c46dd496",
  // "0xc4eac3bfae3f3c951225c16848ddcab3d6a5abbf",
  // "0x057b888af98b3D63B07cFb541FF5e32478579ACC",
  // "0xb24408a05bb5E3E959512dF62607d7E3aa3c4F38",
  // "0xC9A5611EAC19151e0dE8c4575eAec45411780739",
  "0x26eB1c0F70f7a3ab612bEFBBf4e738135c84fDeA",
  "0xB3178df42F69F92BFcc8eac67b708E239BEb92d7",
  "0x999bC85112a11B8f48ef9883cdf4d14B3F0B5f7D",
  "0x933c4A565503975CA2731fdF7e2e033998ea06D1",
  "0xe653Eb98fA432E2Be193b0B767b6857c2343039d",
  "0xAC882daAc4F6B2d00506790FB11e732aC0deEFC5",
  "0xce59Ce5C811bA95498e4e0056c63b699e8f47D22",
  "0xF1Efe73ED15889988c441cA7A0704641912e87d5",
  "0xc59DB0e7948e8fF496820f422AF51d1d799fd3eD",
  "0x5205f37f61AEf8d38885f0B84aEcf26E93E4A9Ac",
  "0xB63317Bb5d26007068fda2a85fD710Ad39B24F30",
  "0xeAEb7C6AA1D937fDEf7373168C91a03747cb8646",
];

const routers: string[] = testnetRouters;
const env = "production";

const run = async () => {
  if (routers.length === 0) {
    console.log("please add router addresses to whitelist");
    return;
  }

  const routerAddresses = routers.map((r) => utils.getAddress(r));

  for (const n of networks) {
    for (const r of routerAddresses) {
      console.log(`Running add router script for router ${r} on network ${n}`);
      const { stdout: out, stderr: err } = await exec(
        `yarn hardhat setup-router --network ${n} --router ${r} --env ${env}`,
      );

      if (out) {
        console.log(`stdout: ${n} ${out}`);
      }
      if (err) {
        console.error(`stderr: ${n} ${err}`);
      }
    }
  }
};
run();
